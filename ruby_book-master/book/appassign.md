# Присваивание
[](appassign)

Синтаксис выражения:

+ Для одного идентификатора и одного объекта выполняется стандартное присваивание. Возвращается ссылка на объект.  
`x = ?R # -> "R"`

+ Для нескольких идентификаторов и одного объекта, сначала вызывается метод `object.to_ary`, а затем в присваивании участвуют все полученные элементы. Возвращается ссылка на массив.

  ~~~~~ ruby
    x, y  =  [ 1, 2 ] # -> [ 1, 2 ]
    x # -> 1
    y # -> 2
  ~~~~~

+ Для одного идентификатора и нескольких объектов выполняется присваивание массива, содержащего все объекты. Возвращается ссылка на массив.

  ~~~~~ ruby
    x  =  ?Y, ?N # -> [ "Y", "N" ]
    x # -> "Y"
  ~~~~~

+ Для одинакового количества идентификаторов и объектов выполняется параллельное присваивание. Возвращается ссылка на массив из всех использованных объектов.

  ~~~~~ ruby
    x, y  =  ?Y, ?N # -> [ "Y", "N" ];
    x # -> "Y"
    y# -> "N"

    x, y  =  y, x # -> [ "N", "Y" ]
    x # -> "N"
    y # -> "Y"
  ~~~~~

+ Если за идентификатором следует запятая, то интерпретатор считает, что после нее указан еще один идентификатор. Этот идентификатор участвует в присваивании, даже если фактически не присутствует.

  ~~~~~ ruby
    x,  =  ?Y, ?N # -> [ "Y", "N" ]
    x# -> "Y"
  ~~~~~

+ Когда идентификаторов больше, чем объектов, выполняется параллельное присваивание. Лишние идентификаторы объявляются, но не инициализируются. Возвращается ссылка на массив из всех использованных объектов.

  ~~~~~ ruby
    x, y, z  =  ?Y, ?N  # -> [ "Y", "N" ]
    x # -> "Y"
    y # -> "N"
    z # -> nil
  ~~~~~

+ Когда идентификаторов меньше, чем объектов, выполняется параллельное присваивание только тех идентификаторов, для которых хватило объектов. Возвращается ссылка на массив из всех использованных объектов.

  ~~~~~ ruby
    x, y  =  ?Y, ?N, ?Q # -> [ "Y", "N", "Q" ]
    x # -> "Y"
    y # -> "N"
  ~~~~~

+ Если перед объектом стоит символ звездочки (*), то объект обрабатывается как составной. Интерпретатор использует для присваивания все элементы объекта (с помощью метода `object.to_splat`). Возвращается ссылка на массив из всех использованных объектов.

  Запись двух символов звездочки подряд считается исключением. При извлечении элементов вложенных массивов символ звездочки необходимо записывать перед каждым вложенным массивом.

  ~~~~~ ruby
    x, y  =  *(1..3) # -> [ 1, 2, 3 ]
    x # -> 1
    y # -> 2
  ~~~~~

+ Если перед идентификатором стоит символ звездочки (*), то интерпретатор использует для присваивания массив из всех лишних объектов. Возвращается ссылка на массив из всех использованных объектов.

  ~~~~~ ruby
    *x, y  =  ?Y, ?N # -> [ "Y", "N" ]
    x # -> [ "Y" ]
    y # -> "N"

    *x, y  =  ?Y, ?N, ?Q # -> [ "Y", "N", "Q" ]
    x # -> [ "Y", "N" ]
    y # ->"Q"

    x, *y, z  =  ?Y, ?N, ?Q, ?R # -> [ "Y", "N", "Q", "R" ]
    x # ->"Y"
    y # ->[ "N", "Q" ]
    z # ->"R"
  ~~~~~

+ Для идентификаторов, ограниченных круглыми скобками одновременно выполняется несколько выражений присваивания:
  1. Группа обрабатывается как одна логическая единица;
  2. Интерпретатор извлекает идентификаторы из группы.

  Возвращается ссылка на массив из всех использованных объектов.

  ~~~~~ ruby
    x, (y, z) = ?Y, ?N  # -> [ "Y", "N" ]
        x = ?Y
        (y, z) = ?N
          y, z = ?N
            y = ?N
            z = nil
  ~~~~~