## Dir (каталоги)

**Добавленные модули: Enumerable**

Каталог - это файл, содержащий информацию о расположении какой-либо группы файлов.

+ _Базовый каталог_ - каталог, в котором находится файл;  
  _Рабочий каталог_ - каталог, относительно которого выполняется программа. Поиск файлов выполняется относительно рабочего каталога;  
  _Домашний каталог_ - персональный каталог пользователя, зарегистрированного в системе.

`::new(path) # -> dir`

Используется для создания нового объекта.

`::open(path) # -> dir`

`(path) { |dir| } # -> dir`

Версия предыдущего метода, позволяющая передавать объект в блок. После выполнения блока каталог закрывается.

`.close # -> nil`

Используется для закрытия каталога. Любая попытка использования объекта считается исключением.

### Работа с файловой системой

`::mkdir( name, *perm ) # -> 0` 

Используется для создания каталога. Невозможность выполнения операции считается исключением.

`::delete(path) # -> 0`  
Синонимы: `rmdir, unlink`

Ипсользуется для удаления каталога. Удаление каталога, содержащего файлы, считается исключением.

`::chdir( path = Dir.home ) # -> 0`

`( path = Dir.home ) { |path| } # -> object`

Используется для изменения рабочего каталога либо для всей программы, либо только во время выполнения блока.

`::chroot(path) # -> 0`

Используется для изменения корневого каталога в Unix-подобных системах. Программа, запущенная с изменённым корневым каталогом, будет иметь доступ только к файлам, содержащимся в данном каталоге. Только пользователь с правами администратора может изменить корневой каталог программы.

### Содержимое каталога

`::entries(path) # -> array`

Имена всех файлов, содержащихся в каталоге.

`::glob( pattern, constants = nil ) # -> array`

`( pattern, constants = nil ) { |name| } # -> nil`

Используется для поиска файлов (синтаксис шаблонов описан в приложении). Чувствительность к регистру зависит от ОС. Найденные совпадения могут передаваться в блок. Дополнительно могут быть переданы константы, влияющие на поиск.

`::[pattern] # -> array`

Аналогично выполнению `Dir.glob pattern, 0`.

`.read # -> name`

Имя следующего файла. При достижении конца каталога возвращается nil.

`.pos # -> integer`
Синонимы: `tell`

Текущая позиция в каталоге.

`.seek(pos) # -> self`

Используется для изменения позиции поиска.

`.pos=(pos) # -> integer`

Используется для изменения позиции поиска.

`.rewind # -> self`

Используется для сброса текущей позиции поиска.

### Итераторы

`.each { |name| } # -> self`

Перебор имен файлов.

`::foreach(path) { |name| } # -> nil`

Перебор имен файлов.

### Остальное

`::directory?(path)`  
Синонимы: `exist?, exists?`

Проверка относится ли файл к каталогам или к ярлыкам, ссылающимся на каталог.

`::getwd # -> path`  
Синонимы: `pwd`

Путь к рабочему каталогу программы.

`::home( user = nil ) # -> path`

Путь к домашнему каталогу текущего пользователя или пользователя с переданным идентификатором.

`.inspect # -> string`

Информация об объекте.

`.path # -> path`

Путь к каталогу (переданный при создании объекта).